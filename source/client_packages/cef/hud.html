<html>

<head>
    <link href="package://IMRP/cef/css/style.css" rel="stylesheet">
    <link href="package://IMRP/cef/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background:rgba(144, 144, 144, 0)">

    <div id="mainInventory" class="inventoryRoot">
        <div class="inventoryHeader">
            <h1 style="font-size:25px;"><strong>Inventory</strong></h1>
            <span id="mainInventoryWeight" style="color:rgba(255, 255, 255, 0.473);font-size: 10px;position: absolute;bottom: 3;left:3;">Weight: 0 / 50 lbs</span>
            <span style="color:rgba(189, 40, 40, 0.973); background-color:rgba(41, 41, 41, 0.068);font-size: 15px;position: absolute;top: 1;right:10;border-radius: 6px;cursor: pointer;">X</span>
        </div>
            <div class="inventoryContainer">
                <div id="mainInventoryGrid" class="inventoryGird">
                </div>
            </div>
        </div>
    </div>

    <div id="groundInventory" class="inventoryRootLeft">
        <div class="inventoryHeader">
            <h1 style="font-size: 24px;"><strong>Ground</strong></h1></div>
            <div class="inventoryContainer-small">
                <div id="groundInventoryGrid" class="inventoryGird">
                </div>
            </div>
        </div>
    </div>

    <div id="extInventory" class="inventoryRootbottomLeft">
        <div class="inventoryHeader">
            <h1 id="extInventoryHeaderLabel" style="font-size: 24px;">
                <strong>EXT</strong></h1> 
                <span id="extInventoryWeight" style="color:rgba(255, 255, 255, 0.473);font-size: 10px;position: absolute;bottom: 3;left:3;">Weight: 0 / 0 lbs</span>
        </div>
            <div class="inventoryContainer-small">
                <div id="extInventoryGrid" class="inventoryGird">
                </div>
            </div>
        </div>
    </div>

    <div id="bagInventory" class="inventoryRootbottom">
        <div class="inventoryHeader">
            <h1 style="font-size: 24px;">
                <strong>Bag</strong></h1> 
                <span id="bagInventoryWeight" style="color:rgba(255, 255, 255, 0.473);font-size: 10px;position: absolute;bottom: 3;left:3;">Weight: 0 / 0 lbs</span>
        </div>
            <div class="inventoryContainer-small">
                <div id="bagInventoryGrid" class="inventoryGird">
                </div>
            </div>
        </div>
    </div>
    
    <div class="boxAlert">
        <!--<div class="alert alert-success" role="alert">
            [21:18:11] You've paid $20 to Stranger_18238193
        </div>
        <div class="alert alert-success" role="alert">
            [21:18:11] You've paid $200 in Real Estate tax
        </div>
        <div class="alert alert-success" role="alert">
            [21:18:11] You've
        </div>-->
    </div>

    <div class = "boxbotright">
        <div class="characterDisplay">
            <span id="characterName" class="characterName"> [0] Victoria Crossheart Rose</span>

            <div class="characterWallet">
                <svg class="bi bi-wallet" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M1.5 3a.5.5 0 00-.5.5v2h5a.5.5 0 01.5.5c0 .253.08.644.306.958.207.288.557.542 1.194.542.637 0 .987-.254 1.194-.542.226-.314.306-.705.306-.958a.5.5 0 01.5-.5h5v-2a.5.5 0 00-.5-.5h-13zM15 6.5h-4.551a2.678 2.678 0 01-.443 1.042C9.613 8.088 8.963 8.5 8 8.5c-.963 0-1.613-.412-2.006-.958A2.679 2.679 0 015.551 6.5H1v6a.5.5 0 00.5.5h13a.5.5 0 00.5-.5v-6zm-15-3A1.5 1.5 0 011.5 2h13A1.5 1.5 0 0116 3.5v9a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 12.5v-9z" clip-rule="evenodd"/>
                </svg> $5,823.20
            </div>

            <div class="CharacterJob">
                <svg class="bi bi-briefcase" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M0 12.5A1.5 1.5 0 001.5 14h13a1.5 1.5 0 001.5-1.5v-6h-1v6a.5.5 0 01-.5.5h-13a.5.5 0 01-.5-.5v-6H0v6z" clip-rule="evenodd"/>
                    <path fill-rule="evenodd" d="M0 4.5A1.5 1.5 0 011.5 3h13A1.5 1.5 0 0116 4.5v2.384l-7.614 2.03a1.5 1.5 0 01-.772 0L0 6.884V4.5zM1.5 4a.5.5 0 00-.5.5v1.616l6.871 1.832a.5.5 0 00.258 0L15 6.116V4.5a.5.5 0 00-.5-.5h-13zM5 2.5A1.5 1.5 0 016.5 1h3A1.5 1.5 0 0111 2.5V3h-1v-.5a.5.5 0 00-.5-.5h-3a.5.5 0 00-.5.5V3H5v-.5z" clip-rule="evenodd"/>
                  </svg> Farmer
            </div>

            <div class="weather">
                <svg class="bi bi-cloud" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M4.887 7.2l-.964-.165A2.5 2.5 0 103.5 12h10a1.5 1.5 0 00.237-2.981L12.7 8.854l.216-1.028a4 4 0 10-7.843-1.587l-.185.96zm9.084.341a5 5 0 00-9.88-1.492A3.5 3.5 0 103.5 13h9.999a2.5 2.5 0 00.394-4.968c.033-.16.06-.324.077-.49z" clip-rule="evenodd"/>
                  </svg> Raining
            </div>
            <div class="temp">
                <svg class="bi bi-sun" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.5 8a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"/>
                    <path fill-rule="evenodd" d="M8.202.28a.25.25 0 00-.404 0l-.91 1.255a.25.25 0 01-.334.067L5.232.79a.25.25 0 00-.374.155l-.36 1.508a.25.25 0 01-.282.19l-1.532-.245a.25.25 0 00-.286.286l.244 1.532a.25.25 0 01-.189.282l-1.509.36a.25.25 0 00-.154.374l.812 1.322a.25.25 0 01-.067.333l-1.256.91a.25.25 0 000 .405l1.256.91a.25.25 0 01.067.334L.79 10.768a.25.25 0 00.154.374l1.51.36a.25.25 0 01.188.282l-.244 1.532a.25.25 0 00.286.286l1.532-.244a.25.25 0 01.282.189l.36 1.508a.25.25 0 00.374.155l1.322-.812a.25.25 0 01.333.067l.91 1.256a.25.25 0 00.405 0l.91-1.256a.25.25 0 01.334-.067l1.322.812a.25.25 0 00.374-.155l.36-1.508a.25.25 0 01.282-.19l1.532.245a.25.25 0 00.286-.286l-.244-1.532a.25.25 0 01.189-.282l1.508-.36a.25.25 0 00.155-.374l-.812-1.322a.25.25 0 01.067-.333l1.256-.91a.25.25 0 000-.405l-1.256-.91a.25.25 0 01-.067-.334l.812-1.322a.25.25 0 00-.155-.374l-1.508-.36a.25.25 0 01-.19-.282l.245-1.532a.25.25 0 00-.286-.286l-1.532.244a.25.25 0 01-.282-.189l-.36-1.508a.25.25 0 00-.374-.155l-1.322.812a.25.25 0 01-.333-.067L8.203.28zM8 2.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z" clip-rule="evenodd"/>
                  </svg> 72ยบ Fahrenheit
            </div>

            <div class="sicknessStatus">
                <svg class="bi bi-heart-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" clip-rule="evenodd"/>
                  </svg>
                Healthy
            </div>
    
            <div class="progress fitnessBar">
                <div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">Fitness</div>
            </div>

            <div class="progress thirstBar">
                <div class="progress-bar" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">Thirst</div>
            </div>

            <div class="progress hungerBar" >
                <div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">Hunger</div>
            </div>
        </div>
    </div>



    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="utils/bootstrap.min.js"></script>
    <script src="utils/anime.min.js"></script>
    <script src="https://kit.fontawesome.com/640357ffb4.js"></script>
</body>

<div id="confirmDrop" class="boxcenter">
    <div class="center">
        <h1><strong>Drop</strong></h1>
        <p id="dropLabel" class="lead boxtext">How many do you want to drop?</p>
        <input id="dropAmount" name="" type="number" value="0" placeholder="Amount">
        <input id="drop" style="display:inline-block; float: left;" type="submit" name="" value="Drop">
        <input id="canceldrop"  style="display:inline-block;float: right;" type="submit" name="" value="Cancel">
    </div>
</div>

<script>
var playerInventory = [];
var extInventory = [];
var groundInventory = [];

var totalWeight = 0;
var totalBagWeight = 0;
var totalExtWeight = 0;

    $('#confirmDrop').hide();
    $('#groundInventory').hide();
    $('#extInventory').hide();
    $('#bagInventory').hide();
    $('#mainInventory').hide();

    function test(clickid){      
       // alert(clickid);
        if(clickid.includes("drop"))
        {
            var arg = clickid.split("-");
            var id = [1];
            var name = document.getElementById(id).getAttribute("name");
            $('#dropLabel').html(`How many ${name}s do you want to drop?`);

            //$('#mainInventory').hide();
            //$('#groundInventory').hide();
            $('#confirmDrop').show();
        }
    }

    $('#drop').click(() => {
        $('#confirmDrop').hide();
        $('#mainInventory').show();
    });
    $('#canceldrop').click(() => {
        $('#confirmDrop').hide();
        $('#mainInventory').show();
    });

    function refreshGroundInventory(inventory){
        groundInventory = inventory;
    }

    function refreshExtInventory(entity, inventory){
        extInventory = inventory;

        switch(entity)
        {
            case "House":
                break;
            case "Vehicle":
                break;
        }
    }

    function refreshJobVehicleInventory(job, inventory){
        switch(job)
        {
            case "MiningJob":
                break;
        }
    }

    function refreshPlayerInventory(inventory) {
        $('#mainInventoryGrid').empty();
        totalWeight = 0;
        playerInventory = inventory;

        playerInventory.forEach(i => {
            totalWeight += i.Weight*i.Qty;
            $('#mainInventoryGrid').append(`<div class="${i.InventoryID}" id="${i.InventoryID}" name="${i.Name}" qty="${i.Qty}">
            <div id="dropdown${i.InventoryID}" class="inventoryItem" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="invimg/${i.Image}.png" class="item-image">
                     <br><span class="nameWeight"> ${i.Name} (${i.Weight} lb)</span>
                        <span class="stackCount" stack="${i.Qty}">${i.Qty}</span>
                        <div class="dropdown-menu">
                            <a id="use-${i.InventoryID}" class="dropdown-item" onclick="test(this.id)">Use</a>
                            <a id="drop-${i.InventoryID}" class="dropdown-item" onclick="test(this.id)"">Drop</a>
                        </div>
                    </div>
                </div>`);
        });

        $(mainInventoryWeight).html(`Weight: ${totalWeight}/50 lbs`);

        /*inventorydata.groundItems.forEach(i => {
            $('#groundInventoryGrid').append(`<div class="${i.itemID}" id="${i.itemID}" name="${i.name}" qty="${i.qty}">
            <div id="dropdown${i.itemID}" class="inventoryItem" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="${i.img}" class="item-image">
                        <br> <span class="nameWeight"> ${i.name} (${i.weight} lb)</span>
                        <span class="stackCount" stack="${i.qty}">${i.qty}</span>
                        <div class="dropdown-menu">
                            <a id="pickup-${i.itemID}" class="dropdown-item" onclick="test(this.id)">Pickup</a>
                        </div>
                    </div>
                </div>`);
        });

        inventorydata.vehicleItems.forEach(i => {
            totalExtWeight += i.weight;
            $('#extInventoryGrid').append(`<div class="${i.itemID}" id="${i.itemID}" name="${i.name}" qty="${i.qty}">
            <div id="dropdown${i.itemID}" class="inventoryItem" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="${i.img}" class="item-image">
                        <br> <span class="nameWeight"> ${i.name} (${i.weight} lb)</span>
                        <span class="stackCount" stack="${i.qty}">${i.qty}</span>
                        <div class="dropdown-menu">
                            <a id="pickup-${i.itemID}" class="dropdown-item" onclick="test(this.id)">Pickup</a>
                        </div>
                    </div>
                </div>`);
                $(extInventoryHeaderLabel).html(`Trunk`);
                $(extInventoryWeight).html(`Weight: ${totalExtWeight}/1000 lbs`);
        });

        inventorydata.bagItems.forEach(i => {
            totalBagWeight += i.weight;
            $('#bagInventoryGrid').append(`<div class="${i.itemID}" id="${i.itemID}" name="${i.name}" qty="${i.qty}">
            <div id="dropdown${i.itemID}" class="inventoryItem" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="${i.img}" class="item-image">
                        <br> <span class="nameWeight"> ${i.name} (${i.weight} lb)</span>
                        <span class="stackCount" stack="${i.qty}">${i.qty}</span>
                        <div class="dropdown-menu">
                            <a id="pickup-${i.itemID}" class="dropdown-item" onclick="test(this.id)">Pickup</a>
                        </div>
                    </div>
                </div>`);
                $(bagInventoryWeight).html(`Weight: ${totalBagWeight}/100 lbs`);
        });*/
    }

    function handle_mousedown(e){
    window.my_dragging = {};
    my_dragging.pageX0 = e.pageX;
    my_dragging.pageY0 = e.pageY;
    my_dragging.elem = this;
    my_dragging.offset0 = $(this).offset();
    function handle_dragging(e){
        var left = my_dragging.offset0.left + (e.pageX - my_dragging.pageX0);
        var top = my_dragging.offset0.top + (e.pageY - my_dragging.pageY0);
        $(my_dragging.elem)
        .offset({top: top, left: left});
    }
    function handle_mouseup(e){
        $('body')
        .off('mousemove', handle_dragging)
        .off('mouseup', handle_mouseup);
    }
    $('body')
    .on('mouseup', handle_mouseup)
    .on('mousemove', handle_dragging);
}
$('#mainInventory').mousedown(handle_mousedown);
$('#groundInventory').mousedown(handle_mousedown);
$('#bagInventory').mousedown(handle_mousedown);
$('#extInventory').mousedown(handle_mousedown);
</script>
</body>

</html>